(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{228:function(e,t,n){"use strict";var r=n(325);t.a=function(e){var t=e.store;Object(r.a)({key:"nuxt",paths:["auth"]})(t)}},229:function(e,t,n){"use strict";var r=n(1),o=n(321);r.a.config.productionTip=!1,r.a.use(o,{load:{key:"AIzaSyAeeJmjRfPh0jw4uQ5iOKyw1RfFNSNs84A",libraries:"places"}})},280:function(e,t,n){var content=n(380);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(25).default)("48517564",content,!0,{sourceMap:!1})},282:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"user"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"username"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:121}};n.loc.source={body:"query user($username: String) {\r\n  Users(where: {username: {_eq: $username}}) {\r\n    id\r\n    name\r\n    username\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var o={};function c(e,t){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==t)return element}}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.user=function(e,t){var n={kind:e.kind,definitions:[c(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=o[t]||new Set,l=new Set,d=new Set;for(r.forEach((function(e){d.add(e)}));d.size>0;){var f=d;d=new Set,f.forEach((function(e){l.has(e)||(l.add(e),(o[e]||new Set).forEach((function(e){d.add(e)})))}))}return l.forEach((function(t){var r=c(e,t);r&&n.definitions.push(r)})),n}(n,"user")},323:function(e,t,n){"use strict";var r=n(282),o={name:"DefaultLayout",data:function(){return{clipped:!1,drawer:!1,fixed:!1,items:[{icon:"mdi-apps",title:"Welcome",to:"/"},{icon:"mdi-chart-bubble",title:"Stations",to:"/stations"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Bike Rental"}},apollo:{Users:{query:n.n(r).a,prefetch:function(e){return{username:e.store.state.auth.username}},variables:function(){return{username:this.userState}}}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},userState:function(){return this.$store.getters.isLoggedIn?this.$store.state.auth.username:null}},methods:{handleLogOut:function(){this.$store.dispatch("logOut")}}},c=n(44),l=n(149),d=n.n(l),f=n(514),v=n(520),m=n(515),h=n(324),k=n(521),_=n(516),w=n(216),S=n(217),L=n(140),V=n(218),O=n(100),N=n(517),x=n(519),E=n(518),y=n(314),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[e.isLoggedIn?n("v-navigation-drawer",{attrs:{"mini-variant":e.miniVariant,clipped:e.clipped,fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",e._l(e.items,(function(t,i){return n("v-list-item",{key:i,attrs:{to:t.to,router:"",exact:""}},[n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)],1):e._e(),e._v(" "),e.isLoggedIn?n("v-app-bar",{attrs:{"clipped-left":e.clipped,fixed:"",app:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.miniVariant=!e.miniVariant}}},[n("v-icon",[e._v("mdi-"+e._s("chevron-"+(e.miniVariant?"right":"left")))])],1),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.clipped=!e.clipped}}},[n("v-icon",[e._v("mdi-application")])],1),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.fixed=!e.fixed}}},[n("v-icon",[e._v("mdi-minus")])],1),e._v(" "),n("v-toolbar-title",{domProps:{textContent:e._s(e.title)}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.rightDrawer=!e.rightDrawer}}},[n("v-icon",[e._v("mdi-menu")])],1),e._v(" "),n("section",e._l(e.Users,(function(t){return n("v-btn",{key:t.id,attrs:{to:"/users/"+t.id}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),1),e._v(" "),n("v-btn",{on:{click:e.handleLogOut}},[e._v("\n      log out\n    ")])],1):e._e(),e._v(" "),n("v-main",[n("v-container",[n("Nuxt")],1)],1),e._v(" "),e.isLoggedIn?n("v-navigation-drawer",{attrs:{right:e.right,temporary:"",fixed:""},model:{value:e.rightDrawer,callback:function(t){e.rightDrawer=t},expression:"rightDrawer"}},[n("v-list",[n("v-list-item",{nativeOn:{click:function(t){e.right=!e.right}}},[n("v-list-item-action",[n("v-icon",{attrs:{light:""}},[e._v(" mdi-repeat ")])],1),e._v(" "),n("v-list-item-title",[e._v("Switch drawer (click me)")])],1)],1)],1):e._e(),e._v(" "),e.isLoggedIn?n("v-footer",{attrs:{absolute:!e.fixed,app:""}},[n("span",[e._v("Â© "+e._s((new Date).getFullYear()))])]):e._e()],1)}),[],!1,null,null,null);t.a=component.exports;d()(component,{VApp:f.a,VAppBar:v.a,VAppBarNavIcon:m.a,VBtn:h.a,VContainer:k.a,VFooter:_.a,VIcon:w.a,VList:S.a,VListItem:L.a,VListItemAction:V.a,VListItemContent:O.a,VListItemTitle:O.b,VMain:N.a,VNavigationDrawer:x.a,VSpacer:E.a,VToolbarTitle:y.a})},333:function(e,t,n){n(334),e.exports=n(335)},370:function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=e.store,n=e.redirect;if(!t.state.auth)return n("/")}},379:function(e,t,n){"use strict";n(280)},380:function(e,t,n){var r=n(24)(!1);r.push([e.i,"h1[data-v-6ffeedc3]{font-size:20px}",""]),e.exports=r},443:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"actions",(function(){return c})),n.d(t,"mutations",(function(){return l})),n.d(t,"getters",(function(){return d}));var r=function(){return{auth:null,error:null}},o=r,c={logOut:function(e){var t=e.commit;t("LOGOUT"),t("RESET_STATE"),localStorage.clear(),sessionStorage.clear()}},l={RESET_STATE:function(e){Object.assign(e,r)},SAVE_AUTH:function(e,t){e.auth=t},LOGOUT:function(e){e.auth=null,this.$router.push("/")},LOGIN_FAIL:function(e,t){e.error=t}},d={isLoggedIn:function(e){return!!e.auth}}},444:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"actions",(function(){return d})),n.d(t,"mutations",(function(){return f}));var r=n(28),o=(n(76),n(103)),c=n.n(o),l=function(){},d={login:function(e,t){return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l,data,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,o=t.username,n.prev=2,n.next=5,c.a.post("/api/login",{username:o});case 5:if(l=n.sent,!(data=l.data).error){n.next=10;break}return r("LOGIN_FAIL",data.error,{root:!0}),n.abrupt("return");case 10:d={username:o,token:data.accessToken},r("LOGIN_SUCCESS"),r("SAVE_AUTH",d,{root:!0}),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(2),r("LOGIN_FAIL",n.t0,{root:!0});case 18:case"end":return n.stop()}}),n,null,[[2,15]])})))()}},f={LOGIN_SUCCESS:function(e){this.$router.push("/")}}},482:function(e,t,n){"use strict";n.r(t);var r=n(119);t.default=function(e){return{httpLinkOptions:{uri:"https://bike-station.hasura.app/v1/graphql",credentials:"same-origin"},cache:new r.a,wsEndpoint:"wss://bike-station.hasura.app/v1/graphql"}}},483:function(e,t,n){"use strict";n.r(t),t.default=function(e,t){console.log("Global error handler"),console.error(e)}},93:function(e,t,n){"use strict";var r={name:"EmptyLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(n(379),n(44)),c=n(149),l=n.n(c),d=n(514),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[404===e.error.statusCode?n("h1",[e._v("\n    "+e._s(e.pageNotFound)+"\n  ")]):n("h1",[e._v("\n    "+e._s(e.otherError)+"\n  ")]),e._v(" "),n("NuxtLink",{attrs:{to:"/"}},[e._v(" Home page ")])],1)}),[],!1,null,"6ffeedc3",null);t.a=component.exports;l()(component,{VApp:d.a})}},[[333,17,2,18]]]);